<div class="main-container">
    <mat-card class="container">
        <!-- tabs module start -->
        <mat-tab-group mat-stretch-tabs (selectedTabChange)="updateQueue($event)">
            <mat-tab label="Remote"></mat-tab>
            <mat-tab label="Internal"></mat-tab>
            <mat-tab label="On Site"></mat-tab>
        </mat-tab-group>
        <!-- tabs module start -->

        <!-- category filter module start -->
        <div class="div-container">
            <!--
            <mat-chip-listbox aria-label="Filter by category">
                <mat-chip (click)="updateQueue('remote')"
                    [selected]="selectedQueue.value === 'remote'">Remote</mat-chip>
                <mat-chip (click)="updateQueue('internal')"
                    [selected]="selectedQueue.value === 'internal'">Internal</mat-chip>
                <mat-chip (click)="updateQueue('on-site')" [selected]="selectedQueue.value === 'on-site'">On
                    Site</mat-chip>
            </mat-chip-listbox>
        -->
            <!-- ticket filter module start -->
            <mat-form-field appearance="outline">
                <input matInput placeholder="Buscar" (keyup)="searchTerm = $any($event.target).value">
                <mat-icon matSuffix>search</mat-icon>
            </mat-form-field>

            <div class="aux-div-container">
                <!-- aux view button module start -->
                <mat-button-toggle-group #group="matButtonToggleGroup" (change)="handleShowTableChange(group.value)">
                    <mat-button-toggle value="table">
                        <mat-icon>view_list</mat-icon>
                    </mat-button-toggle>
                    <mat-button-toggle value="card">
                        <mat-icon>view_module</mat-icon>
                    </mat-button-toggle>
                </mat-button-toggle-group>
                <!-- aux view button module end -->
                <!-- aux button module start -->
                <button mat-mini-fab color="primary">
                    <mat-icon>add</mat-icon>
                </button>
                <!-- aux button module end -->
            </div>
        </div>

    </mat-card>
    <!--main-ticket-content module start-->
    <div class="aux-container">
        <div *ngIf="loading">
            <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
        </div>
        <div *ngIf="error">
            Error: {{ error }}
        </div>
        <div *ngIf="!loading && !error">
            <div *ngIf="filteredTickets.length > 0; else noTickets">
                <!--
          <app-ticket-table *ngIf="showTable === 'table'" [allTickets]="filteredTickets" [currentPage]="currentPage"
            [pageSize]="pageSize" [searchTerm]="searchTerm">
          </app-ticket-table>
          <app-ticket-card *ngIf="showTable === 'card'" [allTickets]="filteredTickets" [currentPage]="currentPage"
          [pageSize]="pageSize" [searchTerm]="searchTerm">
          </app-ticket-card>
        -->
            </div>
            <ng-template #noTickets>
                <div class="noTickets">
                    <img src="../../../assets/images/such-empty.png" alt="No Tickets">
                    <p>Sem Tickets no Momento :P</p>
                </div>
            </ng-template>
        </div>
    </div>
    <!--main-ticket-content module end-->
    <!-- OBS: este modulo pode mudar de lugar-->
    <div *ngIf="!loading && !error && filteredTickets.length > 0" class="container">
        <mat-paginator [length]="filteredTickets.length" [pageSize]="pageSize" [pageIndex]="currentPage-1"
            (page)="onPageChanged($event)" aria-label="Select page">
        </mat-paginator>
    </div>
    <!-- OBS: este modulo pode mudar de lugar-->
</div>