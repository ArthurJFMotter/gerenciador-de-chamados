<div class="sort-controls">
  <mat-form-field appearance="outline">
    <mat-label>Ordenar por</mat-label>
    <mat-select [(value)]="sortOption" (selectionChange)="sortTickets()">
      <mat-option value="id">ID</mat-option>
      <mat-option value="status">Status</mat-option>
      <mat-option value="requesterName">Solicitante</mat-option>
      <mat-option value="request">Solicitação</mat-option>
      <mat-option value="locationName">Local</mat-option>
      <mat-option value="locationRegion">Região</mat-option>
      <mat-option value="createdDate">Data</mat-option>
      <mat-option value="lastInteraction">Última Interação</mat-option>
      <mat-option value="responsible">Responsável</mat-option>
    </mat-select>
  </mat-form-field>
</div>

<div class="card-grid">
  <mat-card class="ticket-card" *ngFor="let ticket of displayedTickets">
    <mat-card-header>
      <mat-card-title class="ticket-id">#{{ticket.id}}</mat-card-title>
      <section class="responsible-info">
        <span class="responsible">{{ticket.responsible}}</span>
        <mat-icon *ngIf="ticket.responsible">lock</mat-icon>
      </section>
      <mat-icon *ngIf="ticket.status === 'priority'" style="color: #FF2C2C;">star</mat-icon>
      <mat-icon *ngIf="ticket.status === 'open'" style="color: #EED202;">circle</mat-icon>
      <mat-icon *ngIf="ticket.status === 'closed'" style="color: #6CC173;">circle</mat-icon>
    </mat-card-header>
    <mat-card-content>
      <p><strong>Solicitante:</strong> {{ticket.requesterName}}</p>
      <p><strong>Solicitação:</strong> {{ticket.request}}</p>
      <p><strong>Local:</strong> {{ticket.locationName}}</p>
      <p><strong>Região:</strong> {{ticket.locationRegion}}</p>
      <p><strong>Data:</strong> {{ticket.createdDate | date:'dd/MM/yyyy'}}</p>
    </mat-card-content>
    <mat-card-actions>
      <section>
        <mat-icon>schedule</mat-icon>
        <span class="time">{{ticket.lastInteraction || ""}}</span>
      </section>
      <mat-checkbox></mat-checkbox>
    </mat-card-actions>
  </mat-card>
</div>